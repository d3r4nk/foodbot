<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What to eat today ?</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        .navigation-button {
            display: inline-block;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            margin: 10px 0;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .navigation-button:hover {
            background-color: #45a049;
        }
        
        .button-container {
            text-align: right;
            margin: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- N√∫t ƒëi·ªÅu h∆∞·ªõng ƒë·∫øn chatbot.html -->
        <div class="button-container">
            <a href="/chatbot" class="navigation-button">Chuy·ªÉn ƒë·∫øn Chatbot</a>
        </div>
        
        <h1>üçΩÔ∏è ƒÇn g√¨ h√¥m nay ?</h1>

        <!-- Ph·∫ßn 1: T√¨m ki·∫øm m√≥n ƒÉn t∆∞∆°ng t·ª± -->
        <div class="section" id="section1">
            <h2>1. G·ª£i √Ω m√≥n t∆∞∆°ng t·ª±:</h2>
            <form method="POST">
                <label for="title">T√¨m m√≥n ƒÉn b·∫°n mu·ªën g·ª£i √Ω </label>
                <select name="title" required>
                    {% for t in recipes %}
                        <option value="{{ t['title'] }}" {% if selected == t['title'] %}selected{% endif %}>{{ t['title'] }}</option>
                    {% endfor %}
                </select>

                <p>Ch·ªçn ph∆∞∆°ng ph√°p g·ª£i √Ω:</p>
                <label>
                    <input type="radio" name="method" value="doc2vec" {% if selected_method == 'doc2vec' %}checked{% endif %}>
                    Doc2Vec
                </label>
                <label>
                    <input type="radio" name="method" value="tfidf" {% if selected_method == 'tfidf' %}checked{% endif %}>
                    TF-IDF
                </label>
                <label>
                    <input type="radio" name="method" value="pyvi" {% if selected_method == 'pyvi' %}checked{% endif %}>
                    PyVi
                </label>
                <label>
                    <input type="radio" name="method" value="bm25" {% if selected_method == 'bm25' %}checked{% endif %}>
                    BM25
                </label>
                <label>
                    <input type="radio" name="method" value="vncorenlp" {% if selected_method == 'vncorenlp' %}checked{% endif %}>
                    VnCoreNLP
                </label>

                <button type="submit">ƒê·ªÅ xu·∫•t m√≥n ƒÉn t∆∞∆°ng t·ª± </button>
            </form>

            {% if recommendations %}
                <div class="result">
                    <h3>Relative Recommendations:</h3>
                    {% for rec in recommendations %}
                        <div class="recipe-card">
                            <h4>{{ rec['title'] }}</h4>
                            <img src="{{ rec['image'] }}" alt="{{ rec['title'] }}" width="200">
                            <p><strong>Ready in :</strong> {{ rec['readyInMinutes'] }} minutes </p>
                            <p><strong>Ingredients:</strong> {{ rec['ingredients'] }}</p>
                            <p><strong>Instructions:</strong> {{ rec['instructions'] }}</p>
                        </div>
                        <hr>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Ph·∫ßn 2: T√¨m m√≥n ƒÉn v·ªõi th√¥ng tin v·ªÅ th·ªùi gian v√† nguy√™n li·ªáu -->
        <div class="section" id="section2">
            <h2>2. B·∫°n mu·ªën m√≥n ƒÉn ƒë∆∞·ª£c th·ª±c hi·ªán trong bao nhi√™u ph√∫t :</h2>
            <form method="POST">
                <label for="readyInMinutes">Ready in ? (Minutes):</label>
                <label for="time_range">Ch·ªçn m·ªëc th·ªùi gian:</label>
                <label>
                    <input type="radio" name="time_range" value="0-15" {% if selected_time == '0-15' %}checked{% endif %}> 0-15 ph√∫t 
                </label>
                <label>
                    <input type="radio" name="time_range" value="16-30" {% if selected_time == '16-30' %}checked{% endif %}> 16-30 ph√∫t 
                </label>
                <label>
                    <input type="radio" name="time_range" value=">30" {% if selected_time == '>30' %}checked{% endif %}> h∆°n 30 ph√∫t 
                </label>

                <label for="ingredients">Nguy√™n li·ªáu : </label>
                <textarea name="ingredients" rows="4" required></textarea>

                <button type="submit">T√¨m ki·∫øm ngay</button>
            </form>

            {% if searchs %}
                <div class="result">
                    <h3>K·∫øt qu·∫£ t√¨m ng·∫´u nhi√™n:</h3>
                    {% for rec in searchs %}
                        <div class="recipe-card">
                            <h4>{{ rec['title'] }}</h4>
                            <img src="{{ rec['image'] }}" alt="{{ rec['title'] }}" width="200">
                            <p><strong>Ready in :</strong> {{ rec['readyInMinutes'] }} minutes </p>
                            <p><strong>Ingredients:</strong> {{ rec['ingredients'] }}</p>
                            <p><strong>Instructions:</strong> {{ rec['instructions'] }}</p>
                        </div>
                        <hr>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    </div>
</body>
</html>